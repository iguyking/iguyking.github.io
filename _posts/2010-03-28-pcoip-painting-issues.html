---
layout: post
status: publish
published: true
title: PCoIP painting issues
author:
  display_name: iguy
  login: iguy
  email: iguy@ionsphere.org
  url: ''
author_login: iguy
author_email: iguy@ionsphere.org
wordpress_id: 378
wordpress_url: http://itsjustanotherlayer.com/?p=378
date: !binary |-
  MjAxMC0wMy0yOCAwMTo1Mjo0OCAtMDUwMA==
date_gmt: !binary |-
  MjAxMC0wMy0yOCAwNjo1Mjo0OCAtMDUwMA==
categories:
- VMware
tags:
- pcoip
- view
- VMware
comments:
- id: 99
  author: Forbes Guthrie
  author_email: forbesguthrie@vReference.com
  author_url: http://www.vReference.com
  date: !binary |-
    MjAxMC0wMy0yOCAxMToyOToyOCAtMDUwMA==
  date_gmt: !binary |-
    MjAxMC0wMy0yOCAxNjoyOToyOCAtMDUwMA==
  content: ! 'Hi Ian,

    I''m not sure that magic formula is right.  Look at the table on the current View
    Architecture Guide (http://www.vmware.com/pdf/view401_architecture_planning.pdf)
    at the top of page 28.  I tried a couple in your formula and they didn''t match.  Any
    ideas? Or am I looking at the wrong table?

    Thanks, Forbes.'
- id: 100
  author: iguy
  author_email: iguy@ionsphere.org
  author_url: http://www.itsjustanotherlayer.com
  date: !binary |-
    MjAxMC0wMy0yOSAyMjozNTozMyAtMDUwMA==
  date_gmt: !binary |-
    MjAxMC0wMy0zMCAwMzozNTozMyAtMDUwMA==
  content: I'm confused by what you are misunderstanding here Forbes?
- id: 101
  author: Forbes Guthrie
  author_email: forbesguthrie@vReference.com
  author_url: http://www.vReference.com
  date: !binary |-
    MjAxMC0wMy0zMCAwOTo0OToxOCAtMDUwMA==
  date_gmt: !binary |-
    MjAxMC0wMy0zMCAxNDo0OToxOCAtMDUwMA==
  content: ! 'OK, here''s an example.  Say you have 2 monitors at 1920x1080.  The
    formula you give above would make this:

    ((2 x 1920) x (2 x 1080) x 4)/1024 = 32400

    The table in the VMware PDF states that 2 monitors at 1920x1080 will need another
    124.92MB (which is rounded up to 128MB) of RAM.'
- id: 102
  author: iguy
  author_email: iguy@ionsphere.org
  author_url: http://www.itsjustanotherlayer.com
  date: !binary |-
    MjAxMC0wMy0zMSAyMzoyMDoyNyAtMDUwMA==
  date_gmt: !binary |-
    MjAxMC0wNC0wMSAwNDoyMDoyNyAtMDUwMA==
  content: ! 'The sizing formula in this post is not how much additional RAM you need
    to allocate for it to work.  This formula is a way around a bug in how the Video
    HW works in Hardware Version 4.


    So in this case if you are triggering this bug and having issues with PCoIP after
    uninstalling and clean installing the View Agent, you need to find a display setting
    that fits into the formula in question.


    2 Monitors at 1920x1080 max resolution

    ie.  ((2 x 1920) x (2 x 1080) x 4)/1024 = 32400  Then 32400/64 = 506.25.  Which
    is not a divisor of 64. You would still be in a situation where this bug could
    be happening.


    Instead if you go and set the pool''s maximum desktop setting of 4 monitors at
    1920x1080 max resolution you would end up with ((4 x 1920) x (4 x 1080) x 4)/1024
    = 129,600.  129,600/64 = 2,025.  This is a divisor of 64.  Therefore this
    would prevent the VRAM bug from triggering.'
- id: 103
  author: Forbes Guthrie
  author_email: forbesguthrie@vReference.com
  author_url: http://www.vReference.com
  date: !binary |-
    MjAxMC0wNC0wNSAwOToyODo1MSAtMDUwMA==
  date_gmt: !binary |-
    MjAxMC0wNC0wNSAxNDoyODo1MSAtMDUwMA==
  content: ! 'Ahhhh, penny drops :)

    Okay, sorry for the confusion.  Thanks for taking the time to explain what this
    was for.'
- id: 12411
  author: ! '&#23665;&#21892;(YAMAZEN) &#12461;&#12515;&#12531;&#12497;&#12540;&#12474;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;
    &#12513;&#12483;&#12471;&#12517;&#12511;&#12489;&#12523;&#12487;&#12451;&#12524;&#12463;&#12479;&#12540;&#12481;&#12455;&#12450;
    MMD'
  author_email: bjuwjbojs@gmail.com
  author_url: http://www.malathai.com/rakutenfish/7319.html
  date: !binary |-
    MjAxNS0wOS0xOSAwMzo0MzoyMyAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0wOS0xOSAwODo0MzoyMyAtMDUwMA==
  content: ! '|&#12371;&#12398;&#20840;&#12367;&#12398;&#35370;&#21839;&#32773;&#12391;&#12354;&#12427;&#12371;&#12392;&#12364;&#23305;&#12375;&#12356;&#31169;&#12399;&#31169;&#12364;&#12424;
    &#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#65281; &#12289;&#12354;&#12426;&#12364;&#12392;&#12358;&#12371;&#12398;&#12414;&#12428;&#12394;&#12383;&#12417;&#12289;&#35443;&#32048;&#65281;
    &#12290;'
- id: 12426
  author: Hill's&#12288;&#12498;&#12523;&#12474;&#12288;&#12469;&#12452;&#12456;&#12531;&#12473;&#12480;&#12452;&#12456;&#12483;&#12488;&#12288;&#12471;&#12491;&#12450;&#12450;&#12489;&#12496;&#12531;&#12473;&#12489;&#12288;&#39640;&#40802;&#29356;&#29992;&#12288;
  author_email: bjuwjbojs@gmail.com
  author_url: http://www.adamilaw.com/dogsmlon/8645.html
  date: !binary |-
    MjAxNS0wOS0yMCAwNToxNzoyNCAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0wOS0yMCAxMDoxNzoyNCAtMDUwMA==
  content: ! '&#12424;&#12367;&#26360;&#12363;&#12428;&#12383;&#12502;&#12525;&#12464;&#12398;&#35352;&#20107;&#12434;&#12381;&#12428;&#12434;&#32173;&#25345;&#12375;&#12414;&#12377;&#12290;&#31169;&#12399;&#12371;&#12398;&#12502;&#12525;&#12464;&#65286;&#65283;038&#12395;&#24120;&#12395;&#12481;&#12455;&#12483;&#12463;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290;&#12452;&#12512;&#12399;&#12392;&#12390;&#12418;&#12452;&#12531;&#12473;&#12500;&#12524;&#12540;&#12471;&#12519;&#12531;&#12434;&#24471;&#12414;&#12375;&#12383;&#65281;&#38750;&#24120;&#12395;&#26377;&#29992;&#12394;&#24773;&#22577;&#12289;&#29305;&#12395;&#26368;&#24460;&#12398;&#12356;&#12367;&#12388;&#12363;&#12398;&#25991;&#31456;&#12290;&#31169;&#12399;&#23455;&#38555;&#12395;&#12381;&#12398;&#12424;&#12358;&#12394;&#24773;&#22577;&#12434;&#24517;&#35201;&#12392;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#31169;&#12399;&#38750;&#24120;&#12395;&#38263;&#12356;&#12383;&#12417;&#12289;&#12371;&#12398;&#29305;&#23450;&#12398;&#30693;&#35672;&#12434;&#25506;&#12375;&#12390;&#12356;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290;
    Thankx&#65286;&#65283;038;&#12364;&#12435;&#12400;&#12429;&#12358;&#12290;'
- id: 12470
  author: ! '&#12495;&#12511;&#12523;&#12488;&#12531; &#12459;&#12540;&#12461; &#26367;&#12360;&#12505;&#12523;&#12488;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#12459;&#12540;&#12461;,&#12491;&#12490;&#12522;&#12483;'
  author_email: llhbmzwz@gmail.com
  author_url: http://unique-element.com/prostomag/2004c-50156-hamilton61.html
  date: !binary |-
    MjAxNS0wOS0yNCAxMjowNjowNSAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0wOS0yNCAxNzowNjowNSAtMDUwMA==
  content: ! "http://wingatehughes.com/prostomag/2757e-80158-hamilton77.html&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12472;&#12515;&#12474;&#12510;&#12473;&#12479;&#12540;
    &#12524;&#12487;&#12451;&#12540;&#12473;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12459;&#12540;&#12461; &#12463;&#12458;&#12540;&#12484;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#36001;&#24067; &#24180;&#40802;&#23652;\r\n&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12459;&#12540;&#12461; &#26367;&#12360;&#12505;&#12523;&#12488;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#12459;&#12540;&#12461;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#39321;&#27700; &#12488;&#12510;&#12488; http://unique-element.com/prostomag/2004c-50156-hamilton61.html"
- id: 12477
  author: ! '&#12495;&#12511;&#12523;&#12488;&#12531; &#33109;&#26178;&#35336; &#12513;&#12531;&#12474;
    &#20154;&#27671;,&#12495;&#12511;&#12523;&#12488;&#12531; &#12524;&#12487;&#12451;&#12540;&#12473;
    &#33258;&#21205;&#24059;&#12365;,&#12491;&#12490;&#12522;&#12483;'
  author_email: llhbmzwz@gmail.com
  author_url: http://rabthemes.com/prostomag/29c8f-90159-hamilton81.html
  date: !binary |-
    MjAxNS0wOS0yNSAwNTowOTozMyAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0wOS0yNSAxMDowOTozMyAtMDUwMA==
  content: ! "http://www.eseki.com/prostomag/13cf9-00153-hamilton28.html&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12524;&#12487;&#12451;&#12540;&#12473; &#12532;&#12451;&#12531;&#12486;&#12540;&#12472;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12459;&#12540;&#12461; &#26367;&#12360;&#12505;&#12523;&#12488;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#26178;&#35336; &#12522;&#12508;&#12531;\r\n&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#20154;&#27671;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12524;&#12487;&#12451;&#12540;&#12473; &#33258;&#21205;&#24059;&#12365;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#39321;&#27700; &#12450;&#12540;&#12514;&#12531;&#12489; http://rabthemes.com/prostomag/29c8f-90159-hamilton81.html"
- id: 12516
  author: ! '&#12495;&#12511;&#12523;&#12488;&#12531; &#33109;&#26178;&#35336; &#12513;&#12531;&#12474;
    &#12463;&#12458;&#12540;&#12484;,&#12495;&#12511;&#12523;&#12488;&#12531; &#33109;&#26178;&#35336;
    &#12472;&#12515;&#12474;&#12510;&#12473;&#12479;&#12540; &#12458;'
  author_email: jtblyvzmjuk@gmail.com
  author_url: http://thisjewelrybox.com/prostomag/2c39f-00159-hamilton90.html
  date: !binary |-
    MjAxNS0wOS0zMCAwMzowMDoyMCAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0wOS0zMCAwODowMDoyMCAtMDUwMA==
  content: ! "http://www.bluemoonlavender.com/prostomag/29c8f-90159-hamilton81.html&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#20154;&#27671;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12524;&#12487;&#12451;&#12540;&#12473; &#33258;&#21205;&#24059;&#12365;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#39321;&#27700; &#12450;&#12540;&#12514;&#12531;&#12489;\r\n&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#12463;&#12458;&#12540;&#12484;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12472;&#12515;&#12474;&#12510;&#12473;&#12479;&#12540;
    &#12458;&#12540;&#12488;&#12463;&#12525;&#12494;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#39321;&#27700; &#24259;&#30436; http://thisjewelrybox.com/prostomag/2c39f-00159-hamilton90.html"
- id: 12542
  author: ! '&#12495;&#12511;&#12523;&#12488;&#12531; &#12459;&#12540;&#12461; &#12501;&#12451;&#12540;&#12523;&#12489;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#12459;&#12540;&#12461;,&#12491;&#12490;&#12522;&#12483;'
  author_email: llhbmzwz@gmail.com
  author_url: http://www.poolwaterproducts.com.au/prostomag/2004c-50156-hamilton58.html
  date: !binary |-
    MjAxNS0xMC0wNCAxNjozNTo0NiAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0xMC0wNCAyMTozNTo0NiAtMDUwMA==
  content: ! "http://beaconwoodsgolf.com/prostomag/2004c-50156-hamilton61.html&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12459;&#12540;&#12461; &#26367;&#12360;&#12505;&#12523;&#12488;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#12459;&#12540;&#12461;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#39321;&#27700; &#12488;&#12510;&#12488;\r\n&#12495;&#12511;&#12523;&#12488;&#12531;
    &#12459;&#12540;&#12461; &#12501;&#12451;&#12540;&#12523;&#12489;,&#12495;&#12511;&#12523;&#12488;&#12531;
    &#33109;&#26178;&#35336; &#12513;&#12531;&#12474; &#12459;&#12540;&#12461;,&#12491;&#12490;&#12522;&#12483;&#12481;
    &#39321;&#27700; &#12488;&#12510;&#12488; http://www.poolwaterproducts.com.au/prostomag/2004c-50156-hamilton58.html"
- id: 12599
  author: ! '&#12512;&#12469;&#12471;&#12304;&#23627;&#22806;&#29992;&#12305;&#12467;&#12531;&#12475;&#12531;&#12488;&#24335;&#12475;&#12531;&#12469;&#12540;&#12521;&#12452;&#12488;
    PZ-820 (PZ820)&#65306;&#12477;&#12501;&#12510;&#12483;&#12503;&#27005;&#22825;&#24066;'
  author_email: wncwqrrfip@gmail.com
  author_url: http://moskstroy.cl121865.tmweb.ru/co-books/2400.html
  date: !binary |-
    MjAxNS0xMC0wOSAyMDoxNTozMCAtMDUwMA==
  date_gmt: !binary |-
    MjAxNS0xMC0xMCAwMToxNTozMCAtMDUwMA==
  content: ! '&#12290;&#31169;&#12399;&#26368;&#24460;&#12398;&#25968;&#26178;&#38291;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;&#12371;&#12398;&#12488;&#12500;&#12483;&#12463;&#12398;&#24773;&#22577;&#12434;&#25506;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#12354;&#12394;&#12383;&#12398;&#12469;&#12452;&#12488;&#12399;&#38750;&#24120;&#12395;&#29645;&#37325;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;'
---
<p>Finally got PCoIP with View 4.0.1 up and running.   All excited and thrilled to compare it to RDP.  It was looking good until I fired up IE 8 and went to a couple websites.  Some had issues.. Some didn't.</p>
<p><img class="size-medium wp-image-399" title="Painting Issues 2" src="/public/img/PaintingIssues2.jpg" alt="IE8 based Painting Issues" width="300" height="173" /></p>
<p>I then launched vSphere client only to be unable to see any of the objects in the left hand window in the client.</p>
<p><img class="size-medium wp-image-400" title="Painting Issues 1" src="/public/img/PaintingIssues1.png" alt="vSphere Painting Issues" width="300" height="240" /></p>
<p>This VM is running on ESX 3.5U4 on VM Hardware 4.   The quick fix is to upgrade to VM Hardware 7 which entails all the updates to vSphere 4 & VM tools updates.</p>
<p>The other fix is due to the following two bugs in Hardware version 4.</p>
<ol>
<li>Completely uninstall the View Agent</li>
<li>Reboot</li>
<li>Reinstall the View Agent (Make sure that the Video Driver version is [...].0032)</li><br />
</ol><br />
If this doesn't do it then you are probably having an issue with VRAM.   The fix is to adjust the pool inside of View for this machine and set the resolution and # of monitors so they come out to a number divisible by 64.  (Kudos to my Support Wizard for finding this one.)</p>
<p>The magic formula is</p>
<p style="padding-left: 30px;">((#of monitors * Width of Resolution) * (# of monitors * Height of Resolution) * 4 )/1024 == Multiple of 64</p><br />
Keep in mind if you have less monitors than you set the pool to, PCoIP handles this gracefully and it doesn't cause issues.</p>
